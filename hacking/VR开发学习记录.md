# VR 开发学习记录

## Day 1：认识 Unity

* 认识 Unity 编辑器
* 了解 Unity 脚本
* 制作 Hello World 程序
* 了解 Unity 中的光照
* 使用地形编辑器
* 了解粒子系统

> 参考资料：《VR开发实战》

## Day 2：三维空间的数学基础

**空间数学的基本概念：**

* 点、矢量、标量
* 笛卡尔坐标系（左手坐标系、右手坐标系）

**矢量运算：**

* 矢量和标量的乘法、除法
* 矢量的加法和减法
* 矢量的模
* 矢量的归一化
* 矢量的投影
* 矢量的点积
* 矢量的叉积

**三角函数**

![](media/14847984271184.jpg)

> 参考资料：《VR开发实战》

## Day 3：VR Hello World

**Vive 开发环境搭建：**

* 获取 SteamVR 插件
* 将 SteamVR 插件导入 Unity
* 认识 SteamVR 包

**实现一个最基本的 VR 场景**

**了解常用的 SteamVR 组件：**

* 预制体 `CameraRig`
* 手柄控制脚本 `SteamVR_TrackedController.cs`
* 手柄射线脚本 `SteamVR_LaserPointer.cs`

**实现手柄与 VR 中物品的简单交互：拿、放、扔**
**实现手柄发射器效果**

> 参考资料：《VR开发实战》

## Day 4：简单的解谜游戏

* 游戏策划和场景搭建（直接使用素材）
* **编写脚本并关联到游戏物品**
* **了解 Prefab 预制件的制作和使用**
* 调试游戏交互和运行效果

![](media/14849971872379.jpg)

> 参考资料：《VR开发实战》

## Day 5：第一人称射击游戏

**创建怪物：**

* 使用导航组件为怪物添加自动寻路
* 创建动画控制器和添加行为控制逻辑
* 添加怪物攻击逻辑

**添加游戏管理类**

**实现玩家攻击逻辑：**

* 创建手枪动画控制器
* 添加手枪开枪逻辑

**实现游戏重玩逻辑**

**添加背景音乐与调节音量**

**重点：**

* 《VR开发实战》书中的有很多刊误，有些步骤按照书中所写无法执行，需要变通，自己查阅资料和摸索得到正确的做法。
* 原 Demo 中使用的一些 API ，实际上 Unity 官方已有更新的版本，在学习时需要注意同步更新，使用最新的 API 进行编程。
* 学会如何在 Unity 和 MonoDevelop 上调试游戏程序和脚本，这是最重要的。

![](media/14852367423772.png)

> 参考资料：《VR开发实战》

## Day 6：旅游观光应用

**实现游客在虚拟空间中的移动传送**

**添加多场景管理**

* 实现场景的动态加载和卸载

**实现通过手柄方向盘对场景中光照角度的控制**

**区分场景中可传送面和不可传送面**

**修改手柄射线为抛物线**

**未解决的 bug ：**

* 使用 SteamVR 进行调试时，预制件 CameraRig 在编辑模式和 Play 模式下，Inspector 中的组件列表并不一致，这会导致运行时的效果与预期不一致，这个问题暂时还没有头绪，需要更深入地了解 Unity 引擎的运行机制才得以解答。
* 基于以上问题的存在，为了调试效果，尝试在 Play 模式下动态调整 Camera(head) 为 Enable，勾选后发现 Console 中持续报错：`Assertion failed on expression: 'IsMatrixValid (matrix)'`，且画面中手柄出现刷新卡顿，暂未找到解决方法。

**重点：**

* 使用 Visual Studio 作为 Unity 中 C# 脚本的编辑器进行开发和调试，提高生产效率。

![](media/14863982154035.png)

> 参考资料：《VR开发实战》

## Day 7

> to be continued...

---

change log: 

	- 创建（2017-01-18）

---


